images:
  airflow:
    repository: dwnusa/airflow
    tag: v3.1.0-jdk17-pyspark-3.5.5-amd64
    pullPolicy: IfNotPresent

  # Already installed in Dockerfile 
  # extraPipPackages:
  #   - apache-airflow-providers-apache-spark
  #   - apache-airflow-providers-cncf-kubernetes
  
dags:
  persistence:
    enabled: false

postgresql:
  enabled: true
  image:
    tag: latest


webserver:
  service:
    type: NodePort
    ports:
      - name: airflow-ui
        port: 8080
        nodePort: 30097


extraVolumes:
  - name: airflow-dags
    hostPath:
      path: /opt/kafka-on-k3d/airflow/dags
      type: DirectoryOrCreate

extraVolumeMounts:
  - name: airflow-dags
    mountPath: /opt/airflow/dags
    readOnly: false